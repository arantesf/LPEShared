<Window
    x:Class="Revit.Common.AmbienteEditMVVM"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:common="clr-namespace:Revit.Common"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="Gerenciador de ambientes"
    Width="1100"
    MinWidth="1100"
    MinHeight="500"
    DataContext="{Binding RelativeSource={RelativeSource Self}}"
    Icon="/Revit.Resources;component/Images/icon-lpe-engenharia.png"
    Loaded="Window_Loaded"
    WindowStartupLocation="CenterScreen">
    <FrameworkElement.Resources>
        <BooleanToVisibilityConverter x:Key="b2v" />
        <Style x:Key="Blue_Button" TargetType="{x:Type Button}">
            <Setter Property="Control.Background" Value="#FF0e538c" />
            <Setter Property="Control.BorderBrush" Value="#FF2e73Ac" />
            <Setter Property="Control.Foreground" Value="White" />
            <Setter Property="Control.FontWeight" Value="Normal" />
            <Setter Property="Control.FontSize" Value="13" />
            <Style.Triggers>
                <Trigger Property="UIElement.IsMouseOver" Value="true">
                    <Setter Property="Control.Background" Value="#FF000000" />
                    <Setter Property="Control.Foreground" Value="#FF222222" />
                </Trigger>
            </Style.Triggers>
        </Style>
    </FrameworkElement.Resources>
    <Grid VerticalAlignment="Stretch" Background="#FFAAAAAA">
        <Grid.RowDefinitions>
            <RowDefinition Height="125" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="50" />
        </Grid.RowDefinitions>
        <Grid Margin="10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="0" />
                <ColumnDefinition Width="2*" />
                <ColumnDefinition Width="0" />
                <ColumnDefinition Width="200" />
                <ColumnDefinition Width="0" />
                <ColumnDefinition Width="3*" />
            </Grid.ColumnDefinitions>
            <Image
                Grid.Column="0"
                Width="100"
                Margin="10"
                HorizontalAlignment="Right"
                Source="/Revit.Resources;component/Images/logo-lpe-engenharia-2.png" />
            <GroupBox
                Grid.Column="6"
                VerticalAlignment="Center"
                BorderBrush="#FF555555"
                BorderThickness="0"
                DataContext="{Binding SelectedFullAmbienteViewModel}"
                FontSize="16"
                FontWeight="Normal"
                Foreground="#FF000000"
                Header="TIPO DE PISO">
                <TextBox
                    MinWidth="300"
                    MinHeight="30"
                    Margin="0"
                    Padding="5,2"
                    VerticalContentAlignment="Center"
                    AcceptsReturn="true"
                    FontSize="14"
                    IsEnabled="false"
                    Text="{Binding TipoDePiso, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                    TextAlignment="Center"
                    TextWrapping="Wrap" />
            </GroupBox>
            <GroupBox
                Grid.Column="2"
                VerticalAlignment="Center"
                BorderBrush="#FF555555"
                BorderThickness="0"
                FontSize="16"
                FontWeight="Normal"
                Foreground="#FF000000"
                Header="AMBIENTE">
                <Grid Margin="0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="17*" />
                        <ColumnDefinition Width="91*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    <StackPanel
                        Grid.Row="0"
                        Grid.ColumnSpan="2"
                        Margin="0">
                        <TextBox
                            Grid.Row="1"
                            Height="30"
                            Padding="5,2"
                            VerticalContentAlignment="Center"
                            AcceptsReturn="true"
                            DataContext="{Binding SelectedFullAmbienteViewModel}"
                            FontSize="14"
                            Text="{Binding Ambiente, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                            TextWrapping="Wrap" />
                    </StackPanel>
                </Grid>
            </GroupBox>
            <GroupBox
                Grid.Column="4"
                VerticalAlignment="Center"
                BorderBrush="#FF555555"
                BorderThickness="0"
                DataContext="{Binding SelectedFullAmbienteViewModel}"
                FontSize="16"
                FontWeight="Normal"
                Foreground="#FF000000"
                Header="SOLUÇÃO">
                <Border
                    x:Name="StructuralSolution_Border"
                    Margin="0"
                    BorderThickness="1">
                    <ComboBox
                        x:Name="StructuralSolution_Combobox"
                        Height="30"
                        Padding="10,0,0,0"
                        VerticalContentAlignment="Center"
                        FontSize="14"
                        FontWeight="Normal"
                        ItemsSource="{Binding StructuralSolutions}"
                        SelectedItem="{Binding TipoDeSolucao}"
                        SelectionChanged="StructuralSolution_Combobox_SelectionChanged" />
                </Border>
            </GroupBox>
        </Grid>
        <Border
            Grid.Row="2"
            Width="Auto"
            MinHeight="350"
            Margin="10,0,10,0"
            HorizontalAlignment="Stretch"
            Background="#FFDDDDDD"
            BorderBrush="White"
            BorderThickness="1"
            DataContext="{Binding SelectedFullAmbienteViewModel}">
            <Grid Margin="5" Visibility="{Binding ParametersScrollVisible, Converter={StaticResource b2v}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition>
                        <FrameworkContentElement.Style>
                            <Style TargetType="{x:Type ColumnDefinition}">
                                <Setter Property="ColumnDefinition.Width" Value="3*" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsColumn0Visible}" Value="False">
                                        <Setter Property="ColumnDefinition.Width" Value="0" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </FrameworkContentElement.Style>
                    </ColumnDefinition>
                    <ColumnDefinition>
                        <FrameworkContentElement.Style>
                            <Style TargetType="{x:Type ColumnDefinition}">
                                <Setter Property="ColumnDefinition.Width" Value="*" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsColumn1Visible}" Value="False">
                                        <Setter Property="ColumnDefinition.Width" Value="0" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </FrameworkContentElement.Style>
                    </ColumnDefinition>
                    <ColumnDefinition>
                        <FrameworkContentElement.Style>
                            <Style TargetType="{x:Type ColumnDefinition}">
                                <Setter Property="ColumnDefinition.Width" Value="*" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsColumn2Visible}" Value="False">
                                        <Setter Property="ColumnDefinition.Width" Value="0" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </FrameworkContentElement.Style>
                    </ColumnDefinition>
                </Grid.ColumnDefinitions>
                <StackPanel>
                    <GroupBox
                        Margin="5"
                        BorderBrush="#FF555555"
                        BorderThickness="0"
                        FontSize="16"
                        Foreground="#FF000000"
                        Visibility="{Binding IsRigid, Converter={StaticResource b2v}}">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition />
                                <RowDefinition />
                            </Grid.RowDefinitions>
                            <CheckBox
                                x:Name="ProjBasico_Checkbox"
                                Grid.Row="0"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Center"
                                VerticalContentAlignment="Center"
                                Click="ProjBasico_Checkbox_Click"
                                FontWeight="Normal"
                                Foreground="#FF000000">
                                <ContentControl>
                                    <TextBlock FontSize="16" TextWrapping="Wrap">PROJETO BÁSICO</TextBlock>
                                </ContentControl>
                            </CheckBox>
                            <Grid Row="1" Visibility="{Binding IsChecked, ElementName=ProjBasico_Checkbox, Converter={StaticResource b2v}}">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition />
                                    <ColumnDefinition Width="10" />
                                    <ColumnDefinition />
                                </Grid.ColumnDefinitions>
                                <GroupBox
                                    x:Name="Dimensoes_GroupBox"
                                    Grid.Row="1"
                                    Margin="5"
                                    BorderBrush="#FF555555"
                                    BorderThickness="0"
                                    FontSize="16"
                                    FontWeight="Normal"
                                    Foreground="#FF000000">
                                    <Grid>
                                        <StackPanel Margin="0">
                                            <TextBlock
                                                FontSize="14"
                                                FontWeight="Normal"
                                                TextWrapping="Wrap">
                                                <Run Text="COMPRIMENTO PLACA (m)" />
                                            </TextBlock>
                                            <TextBox
                                                Grid.Row="1"
                                                Height="30"
                                                Padding="5,2"
                                                VerticalContentAlignment="Center"
                                                FontSize="14"
                                                Text="{Binding ComprimentoDaPlaca, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                            <TextBlock
                                                FontSize="14"
                                                FontWeight="Normal"
                                                TextWrapping="Wrap">
                                                <Run Text="LARGURA PLACA (m)" />
                                            </TextBlock>
                                            <TextBox
                                                Grid.Row="1"
                                                Height="30"
                                                Padding="5,2"
                                                VerticalContentAlignment="Center"
                                                FontSize="14"
                                                Text="{Binding LarguraDaPlaca, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                        </StackPanel>
                                    </Grid>
                                </GroupBox>
                                <GroupBox
                                    x:Name="EspacadorSoldado_GroupBox"
                                    Grid.Row="1"
                                    Grid.Column="2"
                                    Margin="5"
                                    VerticalAlignment="Top"
                                    BorderBrush="#FF555555"
                                    BorderThickness="0"
                                    FontSize="16"
                                    FontWeight="Normal"
                                    Foreground="#FF000000">
                                    <Grid>
                                        <StackPanel Margin="0">
                                            <TextBlock
                                                FontSize="14"
                                                FontWeight="Normal"
                                                TextWrapping="Wrap">
                                                ESPAÇADOR SOLDADO (cm)
                                            </TextBlock>
                                            <TextBox
                                                Grid.Row="1"
                                                Height="30"
                                                Padding="5,2"
                                                VerticalContentAlignment="Center"
                                                FontSize="14"
                                                Text="{Binding HEspacadorSoldado, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                        </StackPanel>
                                    </Grid>
                                </GroupBox>
                            </Grid>
                        </Grid>
                    </GroupBox>
                    <GroupBox
                        x:Name="PisoMatriz_GroupBox"
                        Grid.Column="0"
                        Margin="5"
                        VerticalAlignment="Top"
                        BorderBrush="#FF555555"
                        BorderThickness="0"
                        FontSize="16"
                        Header="PISO MATRIZ">
                        <ComboBox
                            Height="30"
                            Margin="5"
                            Padding="10,0,0,0"
                            VerticalContentAlignment="Center"
                            DisplayMemberPath="FloorName"
                            FontSize="14"
                            FontWeight="Normal"
                            ItemsSource="{Binding FloorMatrizes, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                            SelectedItem="{Binding SelectedfloorMatriz, UpdateSourceTrigger=PropertyChanged}"
                            SelectionChanged="FloorMatriz_SelectionChanged" />
                    </GroupBox>
                    <GroupBox
                        x:Name="Camadas_DataGrid"
                        Grid.Column="0"
                        Margin="5"
                        VerticalAlignment="Top"
                        BorderBrush="#FF555555"
                        BorderThickness="0"
                        FontSize="16"
                        Foreground="#FF000000"
                        Header="CAMADAS">
                        <Grid
                            x:Name="PlatibandaLevels_Grid"
                            Margin="5"
                            VerticalAlignment="Top"
                            ColumnSpan="2"
                            Row="3"
                            Visibility="Visible">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                            <DataGrid
                                x:Name="Layers_DataGrid"
                                MinHeight="110"
                                VerticalAlignment="Stretch"
                                AutoGenerateColumns="false"
                                BorderBrush="#222222"
                                BorderThickness="1"
                                CanUserAddRows="false"
                                CanUserDeleteRows="false"
                                CanUserReorderColumns="false"
                                CanUserResizeColumns="false"
                                CanUserResizeRows="false"
                                CanUserSortColumns="false"
                                CellEditEnding="Layers_DataGrid_CellEditEnding"
                                FontSize="14"
                                HeadersVisibility="Column"
                                HorizontalGridLinesBrush="#FFB9B9B9"
                                SelectionUnit="FullRow"
                                VerticalGridLinesBrush="#FFB9B9B9"
                                VirtualizingPanel.VirtualizationMode="Standard">
                                <DataGrid.ColumnHeaderStyle>
                                    <Style TargetType="{x:Type DataGridColumnHeader}">
                                        <Setter Property="Control.Background" Value="#FF0e538c" />
                                        <Setter Property="Control.HorizontalContentAlignment" Value="Center" />
                                        <Setter Property="Control.Foreground" Value="White" />
                                        <Setter Property="Control.FontStyle" Value="Normal" />
                                        <Setter Property="FrameworkElement.Height" Value="25" />
                                        <Setter Property="DataGridColumnHeader.SeparatorBrush" Value="Black" />
                                        <Setter Property="FrameworkElement.Margin" Value="0,0,1,0" />
                                        <Setter Property="DataGridColumnHeader.SeparatorVisibility" Value="Visible" />
                                        <Setter Property="Control.BorderBrush" Value="#FF707070" />
                                        <Setter Property="Control.FontWeight" Value="nORMAL" />
                                        <Setter Property="UIElement.IsEnabled" Value="{Binding IsEnabled}" />
                                    </Style>
                                </DataGrid.ColumnHeaderStyle>
                                <FrameworkElement.Resources>
                                    <Style TargetType="{x:Type DataGridRow}">
                                        <Setter Property="UIElement.IsEnabled" Value="{Binding IsEnabled}" />
                                        <Style.Triggers>
                                            <Trigger Property="UIElement.IsEnabled" Value="false">
                                                <Setter Property="Control.Background" Value="#FF000000" />
                                            </Trigger>
                                        </Style.Triggers>
                                    </Style>
                                    <Style TargetType="{x:Type DataGridColumnHeader}">
                                        <Setter Property="Control.HorizontalContentAlignment" Value="Center" />
                                        <Setter Property="Control.VerticalContentAlignment" Value="Center" />
                                        <Setter Property="DataGridColumnHeader.SeparatorVisibility" Value="Visible" />
                                        <Setter Property="Control.FontWeight" Value="SemiBold" />
                                        <Setter Property="Control.Background" Value="#FFB9B9B9" />
                                        <Setter Property="Control.FontStyle" Value="Normal" />
                                        <Setter Property="Control.FontFamily" Value="Segoe UI" />
                                        <Setter Property="FrameworkElement.Height" Value="25" />
                                        <Setter Property="DataGridColumnHeader.SeparatorBrush" Value="#FFC1C1C1" />
                                        <Setter Property="Control.Foreground" Value="Black" />
                                    </Style>
                                </FrameworkElement.Resources>
                                <DataGrid.Columns>
                                    <DataGridTemplateColumn Width="200" Header="Tipo">
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <ComboBox
                                                    x:Name="LayerType_Combobox"
                                                    HorizontalAlignment="Stretch"
                                                    VerticalContentAlignment="Center"
                                                    FontSize="14"
                                                    FontWeight="Normal"
                                                    ItemsSource="{Binding CamadaTipos, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                                    SelectedItem="{Binding SelectedCamadaTipo, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                    </DataGridTemplateColumn>
                                    <DataGridTemplateColumn Width="2*" Header="Material">
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <ComboBox
                                                    HorizontalAlignment="Stretch"
                                                    VerticalContentAlignment="Center"
                                                    FontSize="14"
                                                    FontWeight="Normal"
                                                    ItemsSource="{Binding PossibleMaterials, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                                    SelectedItem="{Binding SelectedMaterial, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                    </DataGridTemplateColumn>
                                    <DataGridTextColumn
                                        x:Name="offsetName"
                                        Width="60"
                                        Binding="{Binding Path=Width, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                        Foreground="Black"
                                        Header="H (cm)">
                                        <DataGridBoundColumn.ElementStyle>
                                            <Style TargetType="{x:Type TextBlock}">
                                                <Setter Property="TextBlock.TextAlignment" Value="Center" />
                                                <Setter Property="FrameworkElement.VerticalAlignment" Value="Center" />
                                                <Setter Property="TextBlock.FontFamily" Value="Segoe UI" />
                                                <Setter Property="TextBlock.FontWeight" Value="Normal" />
                                            </Style>
                                        </DataGridBoundColumn.ElementStyle>
                                    </DataGridTextColumn>
                                    <DataGridTextColumn
                                        x:Name="Tag"
                                        Width="180"
                                        Binding="{Binding Path=Tag, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                        Foreground="Black"
                                        Header="Tag">
                                        <DataGridBoundColumn.ElementStyle>
                                            <Style TargetType="{x:Type TextBlock}">
                                                <Setter Property="TextBlock.TextWrapping" Value="Wrap" />
                                                <Setter Property="TextBlock.TextAlignment" Value="Center" />
                                                <Setter Property="FrameworkElement.VerticalAlignment" Value="Center" />
                                            </Style>
                                        </DataGridBoundColumn.ElementStyle>
                                        <DataGridBoundColumn.EditingElementStyle>
                                            <Style TargetType="{x:Type TextBox}">
                                                <Setter Property="TextBox.TextWrapping" Value="Wrap" />
                                                <Setter Property="TextBoxBase.AcceptsReturn" Value="true" />
                                            </Style>
                                        </DataGridBoundColumn.EditingElementStyle>
                                    </DataGridTextColumn>
                                </DataGrid.Columns>
                            </DataGrid>
                            <StackPanel
                                Grid.Row="2"
                                Grid.Column="1"
                                Width="20"
                                Margin="10,0,0,0">
                                <Button
                                    x:Name="LayerUp_Button"
                                    Height="25"
                                    Margin="0,0,0,5"
                                    Background="Transparent"
                                    BorderThickness="0"
                                    Click="LayerUP_Button_Click">
                                    <Image
                                        Width="16"
                                        RenderOptions.BitmapScalingMode="NearestNeighbor"
                                        Source="/Revit.Resources;component/Images/up-arrow.png" />
                                </Button>
                                <Button
                                    x:Name="LayerDown_Button"
                                    Height="25"
                                    Margin="0,0,0,5"
                                    Background="Transparent"
                                    BorderThickness="0"
                                    Click="LayerDown_Button_Click">
                                    <Image
                                        Width="16"
                                        RenderOptions.BitmapScalingMode="NearestNeighbor"
                                        Source="/Revit.Resources;component/Images/down-arrow.png" />
                                </Button>
                                <Button
                                    x:Name="AddLayer_Button"
                                    Height="25"
                                    Margin="0,0,0,5"
                                    Background="Transparent"
                                    BorderThickness="0"
                                    Click="AddLayer_Button_Click">
                                    <Image
                                        Width="16"
                                        RenderOptions.BitmapScalingMode="NearestNeighbor"
                                        Source="/Revit.Resources;component/Images/plus-symbol.png" />
                                </Button>
                                <Button
                                    x:Name="RemoveLayer_Button"
                                    Height="25"
                                    Margin="0,0,0,0"
                                    Background="Transparent"
                                    BorderThickness="0"
                                    Click="RemoveLayer_Button_Click">
                                    <Image
                                        Width="16"
                                        RenderOptions.BitmapScalingMode="NearestNeighbor"
                                        Source="/Revit.Resources;component/Images/minus-symbol.png" />
                                </Button>
                            </StackPanel>
                        </Grid>
                    </GroupBox>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition />
                            <ColumnDefinition Width="20" />
                            <ColumnDefinition />
                        </Grid.ColumnDefinitions>
                        <GroupBox
                            x:Name="VeiculosPesados_GroupBox"
                            Grid.Column="0"
                            Margin="5"
                            BorderBrush="#FF555555"
                            BorderThickness="0"
                            FontSize="16"
                            FontWeight="Normal"
                            Foreground="#FF000000">
                            <Grid Margin="0">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>
                                <CheckBox
                                    x:Name="VeiculosPesados_CheckBox"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    VerticalContentAlignment="Center"
                                    FontWeight="Normal"
                                    Foreground="#FF000000"
                                    IsChecked="{Binding BoolLPEVeiculosPesados, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                                    <ContentControl>
                                        <TextBlock FontSize="16" TextWrapping="Wrap">VEÍCULOS PESADOS</TextBlock>
                                    </ContentControl>
                                </CheckBox>
                                <StackPanel Grid.Row="1" Margin="5">
                                    <TextBlock
                                        FontSize="14"
                                        FontWeight="Normal"
                                        TextWrapping="Wrap">
                                        LPE CARGA
                                    </TextBlock>
                                    <TextBox
                                        Grid.Row="1"
                                        Height="Auto"
                                        MinHeight="30"
                                        Margin="0,0,0,5"
                                        Padding="5,2"
                                        VerticalContentAlignment="Center"
                                        AcceptsReturn="true"
                                        FontSize="14"
                                        Text="{Binding LPECarga, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                        TextWrapping="Wrap" />
                                </StackPanel>
                            </Grid>
                        </GroupBox>
                        <GroupBox
                            x:Name="Tratamento_GroupBox"
                            Grid.Column="2"
                            Margin="5"
                            BorderBrush="#FF555555"
                            BorderThickness="0"
                            FontSize="16"
                            FontWeight="Normal"
                            Foreground="#FF000000">
                            <Grid Margin="0">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>
                                <CheckBox
                                    x:Name="Tratamento_CheckBox"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    VerticalContentAlignment="Center"
                                    FontWeight="Normal"
                                    Foreground="#FF000000"
                                    IsChecked="{Binding BoolTratamentoSuperficial, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                                    <ContentControl>
                                        <TextBlock FontSize="16" TextWrapping="Wrap">
                                            TRATAMENTO SUPERFICIAL
                                        </TextBlock>
                                    </ContentControl>
                                </CheckBox>
                                <StackPanel
                                    Grid.Row="1"
                                    Margin="5"
                                    Visibility="{Binding IsChecked, ElementName=Tratamento_CheckBox, Converter={StaticResource b2v}}">
                                    <TextBox
                                        Grid.Row="1"
                                        Height="Auto"
                                        MinHeight="30"
                                        Padding="5,2"
                                        VerticalContentAlignment="Center"
                                        AcceptsReturn="true"
                                        FontSize="14"
                                        Text="{Binding TratamentoSuperficial, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                        TextWrapping="Wrap" />
                                </StackPanel>
                            </Grid>
                        </GroupBox>
                    </Grid>
                </StackPanel>
                <StackPanel Grid.Column="1">
                    <GroupBox
                        x:Name="Fibra_GroupBox"
                        Grid.Row="2"
                        Margin="5"
                        BorderBrush="#FF555555"
                        BorderThickness="0"
                        FontSize="16"
                        FontWeight="Normal"
                        Foreground="#FF000000"
                        Visibility="{Binding FibraIsVisible, Converter={StaticResource b2v}}">
                        <Grid Margin="0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>
                            <CheckBox
                                x:Name="Fibra_CheckBox"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Center"
                                VerticalContentAlignment="Center"
                                FontWeight="Normal"
                                Foreground="#FF000000"
                                IsChecked="{Binding BoolFibra, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                IsEnabled="false">
                                <ContentControl>
                                    <TextBlock FontSize="16" TextWrapping="Wrap">FIBRA</TextBlock>
                                </ContentControl>
                            </CheckBox>
                            <StackPanel
                                Grid.Row="2"
                                Margin="5"
                                Visibility="{Binding IsChecked, ElementName=Fibra_CheckBox, Converter={StaticResource b2v}}">
                                <TextBlock
                                    FontSize="14"
                                    FontWeight="Normal"
                                    TextWrapping="Wrap">
                                    FIBRA
                                </TextBlock>
                                <TextBox
                                    Grid.Row="1"
                                    Height="Auto"
                                    MinHeight="30"
                                    Padding="5,2"
                                    VerticalContentAlignment="Center"
                                    AcceptsReturn="true"
                                    FontSize="14"
                                    Text="{Binding Fibra, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    TextWrapping="Wrap" />
                                <TextBlock
                                    FontSize="14"
                                    FontWeight="Normal"
                                    TextWrapping="Wrap">
                                    DOSAGEM FIBRA (kg/m³)
                                </TextBlock>
                                <TextBox
                                    Grid.Row="1"
                                    Height="30"
                                    Padding="5,2"
                                    VerticalContentAlignment="Center"
                                    FontSize="14"
                                    Text="{Binding DosagemFibra, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                <TextBlock
                                    FontSize="14"
                                    FontWeight="Normal"
                                    TextWrapping="Wrap">
                                    FR1 (MPa)
                                </TextBlock>
                                <TextBox
                                    Grid.Row="1"
                                    Height="Auto"
                                    MinHeight="30"
                                    Padding="5,2"
                                    VerticalContentAlignment="Center"
                                    AcceptsReturn="true"
                                    FontSize="14"
                                    Text="{Binding FR1, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    TextWrapping="Wrap" />
                                <TextBlock
                                    FontSize="14"
                                    FontWeight="Normal"
                                    TextWrapping="Wrap">
                                    FR4 (MPa)
                                </TextBlock>
                                <TextBox
                                    Grid.Row="1"
                                    Height="Auto"
                                    MinHeight="30"
                                    Padding="5,2"
                                    VerticalContentAlignment="Center"
                                    AcceptsReturn="true"
                                    FontSize="14"
                                    Text="{Binding FR4, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    TextWrapping="Wrap" />
                            </StackPanel>
                        </Grid>
                    </GroupBox>
                    <GroupBox
                        x:Name="TelaSuperior_GroupBox"
                        Margin="5"
                        BorderBrush="#FF555555"
                        BorderThickness="0"
                        FontSize="16"
                        FontWeight="Normal"
                        Foreground="#FF000000"
                        Visibility="{Binding TelaSuperiorIsVisible, Converter={StaticResource b2v}}">
                        <Grid Margin="0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>
                            <CheckBox
                                x:Name="TelaSuperior_Checkbox"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Center"
                                VerticalContentAlignment="Center"
                                Click="TelaSuperior_Checkbox_Click"
                                FontWeight="Normal"
                                Foreground="#FF000000"
                                IsChecked="{Binding BoolTelaSuperior, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                IsEnabled="{Binding TelaSuperiorIsEnable, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                                <ContentControl>
                                    <TextBlock FontSize="16" TextWrapping="Wrap">TELA SUPERIOR</TextBlock>
                                </ContentControl>
                            </CheckBox>
                            <StackPanel
                                Grid.Row="1"
                                Margin="5"
                                Visibility="{Binding IsChecked, ElementName=TelaSuperior_Checkbox, Converter={StaticResource b2v}}">
                                <TextBlock
                                    FontSize="14"
                                    FontWeight="Normal"
                                    TextWrapping="Wrap">
                                    TELA SUPERIOR
                                </TextBlock>
                                <TextBox
                                    Grid.Row="1"
                                    Height="Auto"
                                    MinHeight="30"
                                    Padding="5,2"
                                    VerticalContentAlignment="Center"
                                    AcceptsReturn="true"
                                    FontSize="14"
                                    Text="{Binding TelaSuperior, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    TextWrapping="Wrap" />
                                <TextBlock
                                    FontSize="14"
                                    FontWeight="Normal"
                                    TextWrapping="Wrap">
                                    FINALIDADE TELA SUPERIOR
                                </TextBlock>
                                <TextBox
                                    Grid.Row="1"
                                    Height="Auto"
                                    MinHeight="30"
                                    Padding="5,2"
                                    VerticalContentAlignment="Center"
                                    AcceptsReturn="true"
                                    FontSize="14"
                                    Text="{Binding FinalidadeTelaSuperior, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    TextWrapping="Wrap" />
                                <TextBlock
                                    FontSize="14"
                                    FontWeight="Normal"
                                    TextWrapping="Wrap">
                                    EMENDA TELA SUPERIOR
                                </TextBlock>
                                <TextBox
                                    Grid.Row="1"
                                    Height="30"
                                    Padding="5,2"
                                    VerticalContentAlignment="Center"
                                    FontSize="14"
                                    Text="{Binding EmendaTelaSuperior, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                            </StackPanel>
                        </Grid>
                    </GroupBox>
                    <GroupBox
                        x:Name="TelaInferior_GroupBox"
                        Grid.Row="1"
                        Margin="5"
                        BorderBrush="#FF555555"
                        BorderThickness="0"
                        FontSize="16"
                        FontWeight="Normal"
                        Foreground="#FF000000"
                        Visibility="{Binding TelaInferiorIsVisible, Converter={StaticResource b2v}}">
                        <Grid Margin="0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>
                            <CheckBox
                                x:Name="TelaInferior_CheckBox"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Center"
                                VerticalContentAlignment="Center"
                                Click="TelaInferior_Checkbox_Click"
                                FontWeight="Normal"
                                Foreground="#FF000000"
                                IsChecked="{Binding BoolTelaInferior, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                IsEnabled="false">
                                <ContentControl>
                                    <TextBlock FontSize="16" TextWrapping="Wrap">TELA INFERIOR</TextBlock>
                                </ContentControl>
                            </CheckBox>
                            <StackPanel
                                Grid.Row="1"
                                Margin="5"
                                Visibility="{Binding IsChecked, ElementName=TelaInferior_CheckBox, Converter={StaticResource b2v}}">
                                <TextBlock
                                    FontSize="14"
                                    FontWeight="Normal"
                                    TextWrapping="Wrap">
                                    TELA INFERIOR
                                </TextBlock>
                                <TextBox
                                    Grid.Row="1"
                                    Height="Auto"
                                    MinHeight="30"
                                    Padding="5,2"
                                    VerticalContentAlignment="Center"
                                    AcceptsReturn="true"
                                    FontSize="14"
                                    Text="{Binding TelaInferior, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    TextWrapping="Wrap" />
                                <TextBlock
                                    FontSize="14"
                                    FontWeight="Normal"
                                    TextWrapping="Wrap">
                                    EMENDA TELA INFERIOR
                                </TextBlock>
                                <TextBox
                                    Grid.Row="1"
                                    Height="30"
                                    Padding="5,2"
                                    VerticalContentAlignment="Center"
                                    FontSize="14"
                                    Text="{Binding EmendaTelaInferior, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                            </StackPanel>
                        </Grid>
                    </GroupBox>
                </StackPanel>
                <GroupBox
                    x:Name="Reforco_GroupBox"
                    Grid.Column="2"
                    Margin="5"
                    VerticalAlignment="Top"
                    BorderBrush="#FF555555"
                    BorderThickness="0"
                    FontSize="16"
                    FontWeight="Normal"
                    Foreground="#FF000000"
                    Visibility="{Binding ReforcoIsVisible, Converter={StaticResource b2v}}">
                    <Grid Margin="0">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>
                        <CheckBox
                            x:Name="ReforcoTela_CheckBox"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            VerticalContentAlignment="Center"
                            Click="ReforcoTela_CheckBox_Click"
                            FontWeight="Normal"
                            Foreground="#FF000000"
                            IsChecked="{Binding BoolReforcoDeTela, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                            <ContentControl>
                                <TextBlock FontSize="16" TextWrapping="Wrap">REFORÇO DE TELA</TextBlock>
                            </ContentControl>
                        </CheckBox>
                        <CheckBox
                            x:Name="ReforcoTelaSuperior_CheckBox"
                            Grid.Row="1"
                            Margin="5"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Click="TelaSuperior_Checkbox_Click"
                            FontWeight="Normal"
                            Foreground="#FF000000"
                            IsChecked="{Binding BoolReforcoTelaSuperior, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                            Visibility="{Binding IsChecked, ElementName=ReforcoTela_CheckBox, Converter={StaticResource b2v}}">
                            <ContentControl>
                                <TextBlock FontSize="14" TextWrapping="Wrap">
                                    REFORÇO TELA SUPERIOR
                                </TextBlock>
                            </ContentControl>
                        </CheckBox>
                        <StackPanel
                            Grid.Row="2"
                            Margin="5"
                            Visibility="{Binding IsChecked, ElementName=ReforcoTelaSuperior_CheckBox, Converter={StaticResource b2v}}">
                            <TextBlock
                                FontSize="14"
                                FontWeight="Normal"
                                TextWrapping="Wrap">
                                REFORÇO TELA SUPERIOR
                            </TextBlock>
                            <TextBox
                                Grid.Row="1"
                                Height="Auto"
                                MinHeight="30"
                                Padding="5,2"
                                VerticalContentAlignment="Center"
                                AcceptsReturn="true"
                                FontSize="14"
                                Text="{Binding ReforcoTelaSuperior, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                TextWrapping="Wrap" />
                            <TextBlock
                                FontSize="14"
                                FontWeight="Normal"
                                TextWrapping="Wrap">
                                EMENDA REFORÇO TELA SUPERIOR
                            </TextBlock>
                            <TextBox
                                Grid.Row="1"
                                Height="30"
                                Padding="5,2"
                                VerticalContentAlignment="Center"
                                FontSize="14"
                                Text="{Binding EmendaReforcoTelaSuperior, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                            <TextBlock
                                FontSize="14"
                                FontWeight="Normal"
                                TextWrapping="Wrap">
                                FINALIDADE REFORÇO TELA SUPERIOR
                            </TextBlock>
                            <TextBox
                                Grid.Row="1"
                                Height="Auto"
                                MinHeight="30"
                                Padding="5,2"
                                VerticalContentAlignment="Center"
                                AcceptsReturn="true"
                                FontSize="14"
                                Text="{Binding FinalidadeReforcoTelaSuperior, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                TextWrapping="Wrap" />
                        </StackPanel>
                        <CheckBox
                            x:Name="ReforcoTelaInferior_CheckBox"
                            Grid.Row="3"
                            Margin="5"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Click="TelaInferior_Checkbox_Click"
                            FontWeight="Normal"
                            Foreground="#FF000000"
                            IsChecked="{Binding BoolReforcoTelaInferior, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                            Visibility="{Binding IsChecked, ElementName=ReforcoTela_CheckBox, Converter={StaticResource b2v}}">
                            <ContentControl>
                                <TextBlock FontSize="14" TextWrapping="Wrap">
                                    REFORÇO TELA INFERIOR
                                </TextBlock>
                            </ContentControl>
                        </CheckBox>
                        <StackPanel
                            Grid.Row="4"
                            Margin="5"
                            Visibility="{Binding IsChecked, ElementName=ReforcoTelaInferior_CheckBox, Converter={StaticResource b2v}}">
                            <TextBlock
                                FontSize="14"
                                FontWeight="Normal"
                                TextWrapping="Wrap">
                                REFORÇO TELA INFERIOR
                            </TextBlock>
                            <TextBox
                                Grid.Row="1"
                                Height="Auto"
                                MinHeight="30"
                                Padding="5,2"
                                VerticalContentAlignment="Center"
                                AcceptsReturn="true"
                                FontSize="14"
                                Text="{Binding ReforcoTelaInferior, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                TextWrapping="Wrap" />
                            <TextBlock
                                FontSize="14"
                                FontWeight="Normal"
                                TextWrapping="Wrap">
                                EMENDA REFORÇO TELA INFERIOR
                            </TextBlock>
                            <TextBox
                                Grid.Row="1"
                                Height="30"
                                Padding="5,2"
                                VerticalContentAlignment="Center"
                                FontSize="14"
                                Text="{Binding EmendaReforcoTelaInferior, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                            <TextBlock
                                FontSize="14"
                                FontWeight="Normal"
                                TextWrapping="Wrap">
                                FINALIDADE REFORÇO TELA INFERIOR
                            </TextBlock>
                            <TextBox
                                Grid.Row="1"
                                Height="Auto"
                                MinHeight="30"
                                Padding="5,2"
                                VerticalContentAlignment="Center"
                                AcceptsReturn="true"
                                FontSize="14"
                                Text="{Binding FinalidadeReforcoTelaInferior, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                TextWrapping="Wrap" />
                        </StackPanel>
                    </Grid>
                </GroupBox>
            </Grid>
        </Border>
        <Button
            x:Name="Execute_Button"
            Grid.Row="3"
            Width="230"
            Height="30"
            Margin="10"
            HorizontalAlignment="Right"
            VerticalAlignment="Center"
            Click="ApplyNewAmbiente_Button_Click"
            Content="APLICAR ALTERAÇÕES"
            FontSize="13"
            IsDefault="true"
            Style="{StaticResource Blue_Button}" />
    </Grid>
</Window>